The availability of the TCP-hole-punching technique depends on the type of computer port allocation used by the NAT. For two peers behind a NAT to connect to each other via TCP simultaneous open, they need to know a little bit about each other. One thing that they absolutely need to know is the "location" of the other peer, or the remote endpoint. The remote endpoint is the data of the ipaddress and a port that the peer will connect to. So when two peers, A and B, initiate TCP connections by binding to local ports Pa and Pb, respectively, they need to know the remote endpoint port as mapped by the NAT in order to make the connection. Here comes the crux of the problem: if both peers are behind a NAT, how does one guess what is the public remote endpoint of the other peer? This problem is called NAT port prediction. All TCP NAT traversal and Hole Punching techniques have to solve the port prediction problem.
